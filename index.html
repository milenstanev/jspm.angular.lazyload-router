<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="jspm_packages/system.js"></script>
  <script src="config.js"></script>
  <script>
    function bootstrap({ appLazyLoadRouterModule, futureRoutesCollection }) {
      futureRoutesCollection.push({
          'stateName': 'test',
          'urlPrefix': '/test',
          'type': 'load',
          'src': 'src/test-module.js',
          'moduleExport': 'module:name:constant',
          'moduleExportName': 'testModule'
        });

      angular.bootstrap(document.body, [
        angular.module('main', [appLazyLoadRouterModule])
          .config([
            '$urlRouterProvider',
            ($urlRouterProvider) => {
              return $urlRouterProvider.otherwise('/test');
            }
          ])
          .name
      ]);
    }

    <!--region dev-->
    /*SystemJS.config({
      defaultJSExtensions: true,
      transpiler: "plugin-babel",
      babelOptions: {
        presets: ['babel-preset-es2017'],
        plugins: ['babel-plugin-transform-decorators-legacy']
      },
      map: {
        "systemjs-babel-build": "npm:systemjs-plugin-babel@0.0.25/systemjs-babel-browser.js"
      }
    });
    SystemJS.import('./src/index').then(bootstrap);*/
    <!--endregion-->

    <!--region Prod-->
    SystemJS.import('./angular.lazyload-router').then(bootstrap);
    <!--endregion-->
  </script>
</head>
<body ng-cloak>

<div ui-view></div>
</body>
</html>
